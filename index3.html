html

<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Interaktive Rom-Karte</title>

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    crossorigin=""
  />

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      height: 100vh;
      display: flex;
      background: #f5f7fa;
      color: #1a1a1a;
    }

    /* Karte */
    #map {
      flex: 1;
      height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 300px;
      background: #ffffff;
      border-left: 1px solid #e5e7eb;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      overflow-y: auto;
      box-shadow: -4px 0 12px rgba(0,0,0,0.05);
    }

    .sidebar h2 {
      font-size: 20px;
      font-weight: 700;
      color: #111827;
    }

    .sidebar h3 {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: #6b7280;
    }

    .hint {
      font-size: 12px;
      color: #6b7280;
      line-height: 1.5;
    }

    /* Filter Buttons */
    .filter-group {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .filter-btn {
      padding: 6px 12px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      background: #f9fafb;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .filter-btn:hover {
      background: #f3f4f6;
    }

    .filter-btn.active {
      background: #2563eb;
      color: #fff;
      border-color: #2563eb;
    }

    /* Hauptbutton */
    .btn-main {
      padding: 10px 14px;
      border-radius: 8px;
      border: none;
      background: #2563eb;
      color: #fff;
      font-size: 14px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.15s ease;
    }

    .btn-main:hover {
      background: #1e4fc7;
    }

    /* Tooltip / Infobox */
    .info-box {
      width: 240px;
      background: #ffffff;
      border-radius: 12px;
      padding: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.15);
    }

    .info-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 10px;
    }

    .info-header .title {
      font-weight: 700;
      font-size: 14px;
      color: #111827;
    }

    .info-header .year {
      font-size: 12px;
      color: #6b7280;
      white-space: nowrap;
    }

    .info-image {
      width: 100%;
      border-radius: 8px;
      margin-bottom: 10px;
      object-fit: cover;
      max-height: 140px;
    }

    .info-text {
      font-size: 13px;
      line-height: 1.5;
      color: #374151;
    }

    .leaflet-tooltip {
      background: transparent;
      border: none;
      box-shadow: none;
      padding: 0;
    }

    /* --- Mobile Optimierung --- */
    @media (max-width: 768px) {
      body {
        flex-direction: column;
        height: auto;
      }

      #map {
        height: 60vh;
        width: 100%;
      }

      .sidebar {
        width: 100%;
        height: auto;
        border-left: none;
        border-top: 1px solid #e5e7eb;
        box-shadow: none;
        padding: 16px;
        gap: 16px;
      }

      .info-box {
        width: 90vw;
        max-width: 400px;
      }

      .filter-btn {
        padding: 10px 14px;
        font-size: 14px;
      }

      .btn-main {
        padding: 12px 16px;
        font-size: 15px;
      }
    }
  </style>
</head>

<body>

  <div id="map"></div>

  <aside class="sidebar">
    <h2>Rom – Interaktive Karte</h2>
    <p class="hint">
      Bewege die Maus über die Symbole, um Infos zu sehen. Rechts kannst du nach Zeitspanne und Kategorie filtern.
    </p>

    <h3>Zeitspannen</h3>
    <div class="filter-group" id="time-filters"></div>

    <h3>Kategorien</h3>
    <div class="filter-group" id="category-filters"></div>

    <button class="btn-main" id="show-all">Alles anzeigen</button>
  </aside>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>

  <script>
    /* Beispiel-Daten */
    const places = [
      {
        id: 1,
        name: "Kolosseum",
        year: "80 n. Chr.",
        description: "Amphitheater, eröffnet unter Kaiser Titus.",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Colosseo_2020.jpg/320px-Colosseo_2020.jpg",
        category: "Antike",
        timeSpan: "0–500",
        lat: 41.8902,
        lng: 12.4922,
        symbol: "tempel"
      },
      {
        id: 2,
        name: "Pantheon",
        year: "ca. 125 n. Chr.",
        description: "Ehemaliger Tempel, später Kirche.",
        image: "https://raw.githubusercontent.com/Trimalcione/rom-bilder/main/20220719_125047.jpg",
        category: "Antike",
        timeSpan: "0–500",
        lat: 41.8986,
        lng: 12.4768,
        symbol: "tempel"
      },
      {
        id: 3,
        name: "Petersdom",
        year: "16.–17. Jh.",
        description: "Zentrum des Vatikans.",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Basilica_di_San_Pietro_in_Vaticano_September_2015-1a.jpg/320px-Basilica_di_San_Pietro_in_Vaticano_September_2015-1a.jpg",
        category: "Kirche",
        timeSpan: "1500–1900",
        lat: 41.9022,
        lng: 12.4539,
        symbol: "kirche"
      }
    ];

    /* Karte */
    const map = L.map('map').setView([41.8933, 12.4829], 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19
    }).addTo(map);

    /* Icons */
    function createStarIcon() {
      const svg = `
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32">
          <polygon 
            points="16,3 20,12 30,12 22,18 25,28 16,22 7,28 10,18 2,12 12,12"
            fill="#f1c40f"
            stroke="black"
            stroke-width="2"
          />
        </svg>
      `;
      return L.icon({
        iconUrl: "data:image/svg+xml;base64," + btoa(svg),
        iconSize: [32, 32],
        iconAnchor: [16, 16]
      });
    }

    const iconBySymbol = {
      tempel: createStarIcon(),
      kirche: createStarIcon(),
      platz: createStarIcon(),
      moderne: createStarIcon(),
      default: createStarIcon()
    };

    /* Marker */
    const markers = [];

    places.forEach(p => {
      const icon = iconBySymbol[p.symbol] || iconBySymbol.default;

      const marker = L.marker([p.lat, p.lng], { icon });

      const html = `
        <div class="info-box">
          <div class="info-header">
            <span class="title">${p.name}</span>
            <span class="year">${p.year}</span>
          </div>
          <img src="${p.image}" class="info-image">
          <div class="info-text">${p.description}</div>
        </div>
      `;

      marker.bindTooltip(html, { direction: "top", offset: [0, -18], opacity: 1, sticky: true });
      marker.addTo(map);

      markers.push({ marker, data: p });
    });

    /* Filter */
    let activeTime = null;
    let activeCat = null;

    function applyFilters() {
      markers.forEach(obj => {
        const m = obj.marker;
        const d = obj.data;

        const matchTime = !activeTime || d.timeSpan === activeTime;
        const matchCat = !activeCat || d.category === activeCat;

        if (matchTime && matchCat) {
          if (!map.hasLayer(m)) m.addTo(map);
        } else {
          if (map.hasLayer(m)) map.removeLayer(m);
        }
      });
    }

    function resetFilters() {
      activeTime = null;
      activeCat = null;
      document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
      markers.forEach(obj => obj.marker.addTo(map));
    }

    /* Filter-Buttons erzeugen */
    const timeFilters = document.getElementById("time-filters");
    const catFilters = document.getElementById("category-filters");

    const times = [...new Set(places.map(p => p.timeSpan))];
    const cats = [...new Set(places.map(p => p.category))];

    function makeButton(label, type) {
      const btn = document.createElement("button");
      btn.className = "filter-btn";
      btn.textContent = label;

      btn.onclick = () => {
        const active = btn.classList.contains("active");

        const selector = type === "time" ? "#time-filters .filter-btn" : "#category-filters .filter-btn";
        document.querySelectorAll(selector).forEach(b => b.classList.remove("active"));

        if (active) {
          if (type === "time") activeTime = null;
          if (type === "category") activeCat = null;
        } else {
          btn.classList.add("active");
          if (type === "time") activeTime = label;
          if (type === "category") activeCat = label;
        }

        applyFilters();
      };

      return btn;
    }

    times.forEach(t => timeFilters.appendChild(makeButton(t, "time")));
    cats.forEach(c => catFilters.appendChild(makeButton(c, "category")));

    document.getElementById("show-all").onclick = resetFilters;
  </script>

</body>
</html>